<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Proxy Viewer</title>
    <style>
      body { font-family: sans-serif; padding: 2em; }
      input[type="text"] {
        width: 80%;
        padding: 0.5em;
        font-size: 1em;
      }
      button {
        padding: 0.5em 1em;
        font-size: 1em;
        margin-left: 0.5em;
      }
      iframe {
        margin-top: 2em;
        width: 100%;
        height: 600px;
        border: none;
      }
    </style>
  </head>
  <body>
    <h2>プロキシ経由でURLを表示</h2>
    <form id="proxyForm">
      <input type="text" id="urlInput" placeholder="https://example.com">
      <button type="submit">表示</button>
    </form>

    <iframe id="proxyFrame" src="{{PROXY_URL}}" style="display:none;"></iframe>

    <script>
      const form = document.getElementById('proxyForm');
      const input = document.getElementById('urlInput');
      const frame = document.getElementById('proxyFrame');

      form.addEventListener('submit', function(e) {
        e.preventDefault();
        const url = encodeURIComponent(input.value.trim());
        if (!url) return alert('URLを入力してください');
        frame.src = `https://your-node-server.com/proxy?url=${url}`;
        frame.style.display = 'block';
      });
    </script>
  </body>
</html>
